# This file is automatically generated, do not edit.
SHELL=/bin/sh
default: it

alloc.0: \
alloc.3
	nroff -man alloc.3 > alloc.0

alloc.a: \
makelib alloc.o alloc_re.o
	./makelib alloc.a alloc.o alloc_re.o

alloc.o: \
compile alloc.c alloc.h error.h
	./compile alloc.c

alloc_re.o: \
compile alloc_re.c alloc.h byte.h
	./compile alloc_re.c

altpath.o: \
compile altpath.c stralloc.h gen_alloc.h config.h stralloc.h gen_alloc.h die.h hasattribute.h error.h open.h slurp.h altpath.h idx.h auto_etc.h
	./compile altpath.c

author.o: \
compile author.c
	./compile author.c

auto-ccld.sh: \
conf-cc conf-ld conf-sub warn-auto.sh
	( cat warn-auto.sh; \
	sub=`head -n 1 conf-sub` ; \
	echo CC=\'`head -n 1 conf-cc` `head -n 1 sub_$$sub/conf-sqlcc`\'; \
	echo LD=\'`head -n 1 conf-ld`\' \
	) > auto-ccld.sh

auto-str: \
load auto-str.o substdio.a error.a str.a
	./load auto-str substdio.a error.a str.a 

auto-str.o: \
compile auto-str.c subfd.h substdio.h readwrite.h exit.h
	./compile auto-str.c

auto_bin.c: \
auto-str conf-bin
	./auto-str auto_bin `head -n 1 conf-bin` > auto_bin.c

auto_bin.o: \
compile auto_bin.c
	./compile auto_bin.c

auto_cron.c: \
auto-str conf-cron
	./auto-str auto_cron `head -n 1 conf-cron` > auto_cron.c

auto_cron.o: \
compile auto_cron.c
	./compile auto_cron.c

auto_etc.c: \
auto-str conf-etc
	./auto-str auto_etc `head -n 1 conf-etc` > auto_etc.c

auto_etc.o: \
compile auto_etc.c
	./compile auto_etc.c

auto_qmail.c: \
auto-str conf-qmail
	./auto-str auto_qmail `head -n 1 conf-qmail` > auto_qmail.c

auto_qmail.o: \
compile auto_qmail.c
	./compile auto_qmail.c

auto_version.c: \
auto-str VERSION
	./auto-str auto_version `head -n 1 VERSION` > auto_version.c

auto_version.o: \
compile auto_version.c
	./compile auto_version.c

byte_chr.o: \
compile byte_chr.c byte.h
	./compile byte_chr.c

byte_copy.o: \
compile byte_copy.c byte.h
	./compile byte_copy.c

byte_cr.o: \
compile byte_cr.c byte.h
	./compile byte_cr.c

byte_diff.o: \
compile byte_diff.c byte.h
	./compile byte_diff.c

byte_rchr.o: \
compile byte_rchr.c byte.h
	./compile byte_rchr.c

byte_zero.o: \
compile byte_zero.c byte.h
	./compile byte_zero.c

case.0: \
case.3
	nroff -man case.3 > case.0

case_diffb.o: \
compile case_diffb.c case.h
	./compile case_diffb.c

case_diffs.o: \
compile case_diffs.c case.h
	./compile case_diffs.c

case_lowerb.o: \
compile case_lowerb.c case.h
	./compile case_lowerb.c

case_startb.o: \
compile case_startb.c case.h
	./compile case_startb.c

case_starts.o: \
compile case_starts.c case.h
	./compile case_starts.c

checktag.c: \
conf-sub
	rm -f checktag.c checktag.o
	sub=`head -n 1 conf-sub` ; ln sub_$$sub/checktag.c checktag.c
	touch checktag.c

checktag.o: \
compile checktag.c subscribe.h stralloc.h gen_alloc.h
	./compile checktag.c

choose: \
warn-auto.sh choose.sh
	cat warn-auto.sh choose.sh > choose
	chmod 755 choose

clean: \
TARGETS
	rm -f `cat TARGETS`

compile: \
make-compile warn-auto.sh systype
	( cat warn-auto.sh; ./make-compile "`cat systype`" ) > compile
	chmod 755 compile

concatHDR.o: \
compile concatHDR.c stralloc.h gen_alloc.h strerr.h hasattribute.h case.h byte.h mime.h stralloc.h gen_alloc.h errtxt.h die.h hasattribute.h idx.h
	./compile concatHDR.c

config.o: \
compile config.c byte.h config.h stralloc.h gen_alloc.h die.h hasattribute.h errtxt.h getconf.h idx.h slurp.h strerr.h hasattribute.h wrap.h
	./compile config.c

constmap.o: \
compile constmap.c constmap.h alloc.h case.h
	./compile constmap.c

cookie.o: \
compile cookie.c cookie.h str.h uint32.h surfpcs.h uint32.h
	./compile cookie.c

copy.o: \
compile copy.c stralloc.h gen_alloc.h substdio.h strerr.h hasattribute.h str.h getln.h case.h readwrite.h qmail.h substdio.h stralloc.h gen_alloc.h errtxt.h error.h quote.h copy.h mime.h stralloc.h gen_alloc.h altpath.h byte.h die.h hasattribute.h idx.h config.h stralloc.h gen_alloc.h
	./compile copy.c

date2yyyymm.o: \
compile date2yyyymm.c yyyymm.h stralloc.h gen_alloc.h
	./compile date2yyyymm.c

date822fmt.o: \
compile date822fmt.c datetime.h fmt.h date822fmt.h
	./compile date822fmt.c

dateline.o: \
compile dateline.c fmt.h yyyymm.h stralloc.h gen_alloc.h stralloc.h gen_alloc.h cgi.h hasattribute.h
	./compile dateline.c

datetime.0: \
datetime.3
	nroff -man datetime.3 > datetime.0

datetime.o: \
compile datetime.c datetime.h
	./compile datetime.c

decodeB.o: \
compile decodeB.c stralloc.h gen_alloc.h strerr.h hasattribute.h uint32.h errtxt.h die.h hasattribute.h idx.h
	./compile decodeB.c

decodeHDR.o: \
compile decodeHDR.c stralloc.h gen_alloc.h strerr.h hasattribute.h error.h case.h byte.h uint32.h mime.h stralloc.h gen_alloc.h errtxt.h die.h hasattribute.h idx.h
	./compile decodeHDR.c

decodeQ.o: \
compile decodeQ.c stralloc.h gen_alloc.h strerr.h hasattribute.h errtxt.h mime.h stralloc.h gen_alloc.h die.h hasattribute.h idx.h
	./compile decodeQ.c

die_badaddr.o: \
compile die_badaddr.c strerr.h hasattribute.h errtxt.h die.h hasattribute.h
	./compile die_badaddr.c

die_badformat.o: \
compile die_badformat.c strerr.h hasattribute.h errtxt.h die.h hasattribute.h
	./compile die_badformat.c

die_dow.o: \
compile die_dow.c strerr.h hasattribute.h errtxt.h die.h hasattribute.h
	./compile die_dow.c

die_nomem.o: \
compile die_nomem.c strerr.h hasattribute.h errtxt.h die.h hasattribute.h
	./compile die_nomem.c

die_sender.o: \
compile die_sender.c strerr.h hasattribute.h errtxt.h die.h hasattribute.h
	./compile die_sender.c

die_usage.o: \
compile die_usage.c strerr.h hasattribute.h errtxt.h die.h hasattribute.h
	./compile die_usage.c

direntry.0: \
direntry.3
	nroff -man direntry.3 > direntry.0

direntry.h: \
compile trydrent.c direntry.h1 direntry.h2
	( ./compile trydrent.c >/dev/null 2>&1 \
	&& cat direntry.h2 || cat direntry.h1 ) > direntry.h
	rm -f trydrent.o

encodeB.o: \
compile encodeB.c stralloc.h gen_alloc.h uint32.h mime.h stralloc.h gen_alloc.h strerr.h hasattribute.h errtxt.h die.h hasattribute.h idx.h
	./compile encodeB.c

encodeQ.o: \
compile encodeQ.c errtxt.h mime.h stralloc.h gen_alloc.h stralloc.h gen_alloc.h strerr.h hasattribute.h die.h hasattribute.h idx.h
	./compile encodeQ.c

env.0: \
env.3
	nroff -man env.3 > env.0

env.o: \
compile env.c str.h alloc.h env.h
	./compile env.c

envread.o: \
compile envread.c env.h str.h
	./compile envread.c

error.0: \
error.3
	nroff -man error.3 > error.0

error.a: \
makelib error.o error_str.o
	./makelib error.a error.o error_str.o

error.o: \
compile error.c error.h
	./compile error.c

error_str.0: \
error_str.3
	nroff -man error_str.3 > error_str.0

error_str.o: \
compile error_str.c error.h
	./compile error_str.c

error_temp.0: \
error_temp.3
	nroff -man error_temp.3 > error_temp.0

ezmlm-accept.0: \
ezmlm-accept.1
	nroff -man ezmlm-accept.1 > ezmlm-accept.0

ezmlm-accept: \
warn-auto.sh ezmlm-accept.sh
	cat warn-auto.sh ezmlm-accept.sh > ezmlm-accept
	chmod 755 ezmlm-accept

ezmlm-archive.0: \
ezmlm-archive.1
	nroff -man ezmlm-archive.1 > ezmlm-archive.0

ezmlm-archive: \
load ezmlm-archive.o libezmlm.a
	./load ezmlm-archive -lezmlm 

ezmlm-archive.o: \
compile ezmlm-archive.c alloc.h error.h stralloc.h gen_alloc.h str.h sig.h getconf.h strerr.h hasattribute.h getln.h substdio.h readwrite.h fmt.h sgetopt.h subgetopt.h idxthread.h idx.h makehash.h lock.h open.h scan.h die.h hasattribute.h idx.h errtxt.h config.h stralloc.h gen_alloc.h auto_version.h
	./compile ezmlm-archive.c

ezmlm-cgi.0: \
ezmlm-cgi.1
	nroff -man ezmlm-cgi.1 > ezmlm-cgi.0

ezmlm-cgi: \
load ezmlm-cgi.o libezmlm.a
	./load ezmlm-cgi -lezmlm 

ezmlm-cgi.o: \
compile ezmlm-cgi.c alloc.h direntry.h datetime.h now.h datetime.h stralloc.h gen_alloc.h strerr.h hasattribute.h error.h env.h sig.h open.h getln.h case.h scan.h str.h fmt.h readwrite.h fork.h wait.h exit.h substdio.h getconf.h gen_alloc.h gen_allocdefs.h constmap.h byte.h subscribe.h stralloc.h gen_alloc.h errtxt.h makehash.h mime.h stralloc.h gen_alloc.h wrap.h die.h hasattribute.h idx.h yyyymm.h stralloc.h gen_alloc.h cgi.h hasattribute.h auto_etc.h
	./compile ezmlm-cgi.c

ezmlm-check.0: \
ezmlm-check.1
	nroff -man ezmlm-check.1 > ezmlm-check.0

ezmlm-check: \
warn-auto.sh ezmlm-check.sh
	cat warn-auto.sh ezmlm-check.sh > ezmlm-check
	chmod 755 ezmlm-check

ezmlm-clean.0: \
ezmlm-clean.1
	nroff -man ezmlm-clean.1 > ezmlm-clean.0

ezmlm-clean: \
load ezmlm-clean.o libezmlm.a
	./load ezmlm-clean -lezmlm 

ezmlm-clean.o: \
compile ezmlm-clean.c error.h stralloc.h gen_alloc.h str.h env.h sig.h getconf.h strerr.h hasattribute.h byte.h getln.h case.h qmail.h substdio.h stralloc.h gen_alloc.h substdio.h readwrite.h seek.h quote.h datetime.h now.h datetime.h direntry.h cookie.h sgetopt.h subgetopt.h fmt.h errtxt.h copy.h open.h scan.h lock.h hdr.h die.h hasattribute.h idx.h mime.h stralloc.h gen_alloc.h config.h stralloc.h gen_alloc.h auto_version.h
	./compile ezmlm-clean.c

ezmlm-confirm.0: \
ezmlm-confirm.1
	nroff -man ezmlm-confirm.1 > ezmlm-confirm.0

ezmlm-confirm: \
load ezmlm-confirm.o libezmlm.a
	./load ezmlm-confirm -lezmlm 

ezmlm-confirm.o: \
compile ezmlm-confirm.c error.h case.h stralloc.h gen_alloc.h str.h env.h error.h sig.h fork.h wait.h getconf.h strerr.h hasattribute.h byte.h getln.h qmail.h substdio.h stralloc.h gen_alloc.h substdio.h readwrite.h seek.h quote.h datetime.h now.h datetime.h fmt.h sgetopt.h subgetopt.h cookie.h errtxt.h copy.h open.h lock.h wrap.h die.h hasattribute.h idx.h mime.h stralloc.h gen_alloc.h config.h stralloc.h gen_alloc.h auto_version.h
	./compile ezmlm-confirm.c

ezmlm-cron.0: \
ezmlm-cron.1
	nroff -man ezmlm-cron.1 > ezmlm-cron.0

ezmlm-cron: \
load ezmlm-cron.o libezmlm.a
	./load ezmlm-cron -lezmlm 

ezmlm-cron.o: \
compile ezmlm-cron.c strerr.h hasattribute.h stralloc.h gen_alloc.h sgetopt.h subgetopt.h substdio.h error.h str.h fmt.h wait.h readwrite.h sig.h case.h scan.h open.h lock.h byte.h getln.h auto_qmail.h auto_cron.h auto_version.h errtxt.h die.h hasattribute.h idx.h wrap.h
	./compile ezmlm-cron.c

ezmlm-dispatch.0: \
ezmlm-dispatch.1
	nroff -man ezmlm-dispatch.1 > ezmlm-dispatch.0

ezmlm-dispatch: \
load ezmlm-dispatch.o libezmlm.a
	./load ezmlm-dispatch -lezmlm 

ezmlm-dispatch.o: \
compile ezmlm-dispatch.c env.h strerr.h hasattribute.h sgetopt.h subgetopt.h substdio.h subfd.h substdio.h errtxt.h error.h byte.h fmt.h str.h stralloc.h gen_alloc.h qmail.h substdio.h stralloc.h gen_alloc.h seek.h wrap.h slurp.h die.h hasattribute.h auto_version.h
	./compile ezmlm-dispatch.c

ezmlm-gate.0: \
ezmlm-gate.1
	nroff -man ezmlm-gate.1 > ezmlm-gate.0

ezmlm-gate: \
load ezmlm-gate.o libezmlm.a sql.lib
	./load ezmlm-gate -lezmlm  `cat sql.lib`

ezmlm-gate.o: \
compile ezmlm-gate.c substdio.h subfd.h substdio.h stralloc.h gen_alloc.h strerr.h hasattribute.h error.h env.h sig.h str.h seek.h wait.h exit.h getconf.h auto_bin.h sgetopt.h subgetopt.h errtxt.h die.h hasattribute.h idx.h subscribe.h stralloc.h gen_alloc.h wrap.h config.h stralloc.h gen_alloc.h auto_version.h
	./compile ezmlm-gate.c

ezmlm-get.0: \
ezmlm-get.1
	nroff -man ezmlm-get.1 > ezmlm-get.0

ezmlm-get: \
load ezmlm-get.o libezmlm.a sql.lib
	./load ezmlm-get -lezmlm  `cat sql.lib`

ezmlm-get.o: \
compile ezmlm-get.c alloc.h error.h stralloc.h gen_alloc.h str.h env.h sig.h getconf.h strerr.h hasattribute.h byte.h getln.h case.h qmail.h substdio.h stralloc.h gen_alloc.h substdio.h readwrite.h seek.h quote.h datetime.h now.h datetime.h date822fmt.h fmt.h sgetopt.h subgetopt.h cookie.h makehash.h copy.h constmap.h subscribe.h stralloc.h gen_alloc.h hdr.h open.h lock.h scan.h idxthread.h idx.h die.h hasattribute.h idx.h mime.h stralloc.h gen_alloc.h errtxt.h config.h stralloc.h gen_alloc.h auto_version.h
	./compile ezmlm-get.c

ezmlm-glconf.0: \
ezmlm-glconf.1
	nroff -man ezmlm-glconf.1 > ezmlm-glconf.0

ezmlm-glconf: \
warn-auto.sh ezmlm-glconf.sh
	cat warn-auto.sh ezmlm-glconf.sh > ezmlm-glconf
	chmod 755 ezmlm-glconf

ezmlm-idx.0: \
ezmlm-idx.1
	nroff -man ezmlm-idx.1 > ezmlm-idx.0

ezmlm-idx: \
load ezmlm-idx.o libezmlm.a
	./load ezmlm-idx -lezmlm 

ezmlm-idx.o: \
compile ezmlm-idx.c stralloc.h gen_alloc.h subfd.h substdio.h strerr.h hasattribute.h error.h lock.h slurp.h open.h getln.h sgetopt.h subgetopt.h case.h scan.h str.h fmt.h readwrite.h exit.h substdio.h sig.h byte.h die.h hasattribute.h idx.h mime.h stralloc.h gen_alloc.h errtxt.h getconf.h makehash.h config.h stralloc.h gen_alloc.h auto_version.h
	./compile ezmlm-idx.c

ezmlm-import.0: \
ezmlm-import.1
	nroff -man ezmlm-import.1 > ezmlm-import.0

ezmlm-import: \
load ezmlm-import.o libezmlm.a
	./load ezmlm-import -lezmlm 

ezmlm-import.o: \
compile ezmlm-import.c stralloc.h gen_alloc.h getconf.h config.h stralloc.h gen_alloc.h error.h strerr.h hasattribute.h substdio.h lock.h open.h errtxt.h die.h hasattribute.h fmt.h getln.h byte.h idx.h sgetopt.h subgetopt.h auto_version.h
	./compile ezmlm-import.c

ezmlm-issubn.0: \
ezmlm-issubn.1
	nroff -man ezmlm-issubn.1 > ezmlm-issubn.0

ezmlm-issubn: \
load ezmlm-issubn.o libezmlm.a sql.lib
	./load ezmlm-issubn -lezmlm  `cat sql.lib`

ezmlm-issubn.o: \
compile ezmlm-issubn.c strerr.h hasattribute.h env.h subscribe.h stralloc.h gen_alloc.h sgetopt.h subgetopt.h errtxt.h die.h hasattribute.h idx.h config.h stralloc.h gen_alloc.h auto_version.h
	./compile ezmlm-issubn.c

ezmlm-limit.0: \
ezmlm-limit.1
	nroff -man ezmlm-limit.1 > ezmlm-limit.0

ezmlm-limit: \
load ezmlm-limit.o libezmlm.a
	./load ezmlm-limit -lezmlm 

ezmlm-limit.o: \
compile ezmlm-limit.c stralloc.h gen_alloc.h substdio.h readwrite.h strerr.h hasattribute.h sig.h lock.h getconf.h fmt.h now.h datetime.h sgetopt.h subgetopt.h error.h scan.h open.h errtxt.h die.h hasattribute.h config.h stralloc.h gen_alloc.h idx.h
	./compile ezmlm-limit.c

ezmlm-list.0: \
ezmlm-list.1
	nroff -man ezmlm-list.1 > ezmlm-list.0

ezmlm-list: \
load ezmlm-list.o libezmlm.a sql.lib
	./load ezmlm-list -lezmlm  `cat sql.lib`

ezmlm-list.o: \
compile ezmlm-list.c strerr.h hasattribute.h readwrite.h substdio.h subfd.h substdio.h subscribe.h stralloc.h gen_alloc.h exit.h fmt.h sgetopt.h subgetopt.h errtxt.h die.h hasattribute.h idx.h config.h stralloc.h gen_alloc.h auto_version.h
	./compile ezmlm-list.c

ezmlm-make.0: \
ezmlm-make.1
	nroff -man ezmlm-make.1 > ezmlm-make.0

ezmlm-make: \
load ezmlm-make.o libezmlm.a
	./load ezmlm-make -lezmlm 

ezmlm-make.o: \
compile ezmlm-make.c sgetopt.h subgetopt.h stralloc.h gen_alloc.h strerr.h hasattribute.h exit.h readwrite.h byte.h open.h substdio.h str.h auto_bin.h getln.h error.h lock.h errtxt.h die.h hasattribute.h idx.h auto_etc.h auto_version.h
	./compile ezmlm-make.c

ezmlm-manage.0: \
ezmlm-manage.1
	nroff -man ezmlm-manage.1 > ezmlm-manage.0

ezmlm-manage: \
load ezmlm-manage.o libezmlm.a sql.lib
	./load ezmlm-manage -lezmlm  `cat sql.lib`

ezmlm-manage.o: \
compile ezmlm-manage.c error.h stralloc.h gen_alloc.h str.h env.h sig.h slurp.h getconf.h strerr.h hasattribute.h byte.h getln.h case.h qmail.h substdio.h stralloc.h gen_alloc.h substdio.h readwrite.h seek.h quote.h datetime.h now.h datetime.h fmt.h subscribe.h stralloc.h gen_alloc.h cookie.h sgetopt.h subgetopt.h copy.h errtxt.h open.h lock.h scan.h mime.h stralloc.h gen_alloc.h hdr.h die.h hasattribute.h idx.h config.h stralloc.h gen_alloc.h auto_version.h
	./compile ezmlm-manage.c

ezmlm-mktab.0: \
ezmlm-mktab.1
	nroff -man ezmlm-mktab.1 > ezmlm-mktab.0

ezmlm-mktab: \
conf-sub
	rm -f ezmlm-mktab
	sub=`head -n 1 conf-sub` ; ln sub_$$sub/ezmlm-mktab ezmlm-mktab
	touch ezmlm-mktab

ezmlm-moderate.0: \
ezmlm-moderate.1
	nroff -man ezmlm-moderate.1 > ezmlm-moderate.0

ezmlm-moderate: \
load ezmlm-moderate.o libezmlm.a
	./load ezmlm-moderate -lezmlm 

ezmlm-moderate.o: \
compile ezmlm-moderate.c error.h case.h stralloc.h gen_alloc.h str.h env.h error.h sig.h wait.h getconf.h strerr.h hasattribute.h byte.h getln.h qmail.h substdio.h stralloc.h gen_alloc.h substdio.h subfd.h substdio.h readwrite.h seek.h quote.h datetime.h now.h datetime.h fmt.h sgetopt.h subgetopt.h cookie.h errtxt.h copy.h hdr.h mime.h stralloc.h gen_alloc.h open.h lock.h die.h hasattribute.h idx.h wrap.h config.h stralloc.h gen_alloc.h auto_version.h
	./compile ezmlm-moderate.c

ezmlm-receipt.0: \
ezmlm-receipt.1
	nroff -man ezmlm-receipt.1 > ezmlm-receipt.0

ezmlm-reject.0: \
ezmlm-reject.1
	nroff -man ezmlm-reject.1 > ezmlm-reject.0

ezmlm-reject: \
load ezmlm-reject.o libezmlm.a
	./load ezmlm-reject -lezmlm 

ezmlm-reject.o: \
compile ezmlm-reject.c strerr.h hasattribute.h substdio.h byte.h case.h str.h readwrite.h stralloc.h gen_alloc.h getln.h sgetopt.h subgetopt.h getconf.h constmap.h fmt.h qmail.h substdio.h stralloc.h gen_alloc.h seek.h scan.h env.h errtxt.h die.h hasattribute.h idx.h config.h stralloc.h gen_alloc.h auto_version.h
	./compile ezmlm-reject.c

ezmlm-request.0: \
ezmlm-request.1
	nroff -man ezmlm-request.1 > ezmlm-request.0

ezmlm-request: \
load ezmlm-request.o libezmlm.a sql.lib
	./load ezmlm-request -lezmlm  `cat sql.lib`

ezmlm-request.o: \
compile ezmlm-request.c stralloc.h gen_alloc.h subfd.h substdio.h strerr.h hasattribute.h error.h qmail.h substdio.h stralloc.h gen_alloc.h env.h sig.h open.h getln.h case.h str.h datetime.h now.h datetime.h quote.h readwrite.h exit.h substdio.h getconf.h constmap.h fmt.h sgetopt.h subgetopt.h byte.h seek.h errtxt.h copy.h cookie.h subscribe.h stralloc.h gen_alloc.h mime.h stralloc.h gen_alloc.h hdr.h die.h hasattribute.h idx.h config.h stralloc.h gen_alloc.h auto_version.h
	./compile ezmlm-request.c

ezmlm-return.0: \
ezmlm-return.1
	nroff -man ezmlm-return.1 > ezmlm-return.0

ezmlm-return: \
load ezmlm-return.o libezmlm.a sql.lib
	./load ezmlm-return -lezmlm  `cat sql.lib`

ezmlm-return.o: \
compile ezmlm-return.c direntry.h stralloc.h gen_alloc.h str.h env.h sig.h getconf.h strerr.h hasattribute.h byte.h case.h open.h scan.h lock.h slurpclose.h getln.h substdio.h error.h quote.h readwrite.h fmt.h now.h datetime.h cookie.h sgetopt.h subgetopt.h subscribe.h stralloc.h gen_alloc.h errtxt.h die.h hasattribute.h config.h stralloc.h gen_alloc.h idx.h auto_version.h
	./compile ezmlm-return.c

ezmlm-send.0: \
ezmlm-send.1
	nroff -man ezmlm-send.1 > ezmlm-send.0

ezmlm-send: \
load ezmlm-send.o libezmlm.a sql.lib
	./load ezmlm-send -lezmlm  `cat sql.lib`

ezmlm-send.o: \
compile ezmlm-send.c stralloc.h gen_alloc.h subfd.h substdio.h strerr.h hasattribute.h error.h qmail.h substdio.h stralloc.h gen_alloc.h env.h lock.h sig.h open.h getln.h case.h scan.h str.h fmt.h readwrite.h exit.h substdio.h getconf.h constmap.h byte.h sgetopt.h subgetopt.h quote.h subscribe.h stralloc.h gen_alloc.h mime.h stralloc.h gen_alloc.h errtxt.h makehash.h cookie.h hdr.h die.h hasattribute.h idx.h copy.h config.h stralloc.h gen_alloc.h auto_version.h
	./compile ezmlm-send.c

ezmlm-split.0: \
ezmlm-split.1
	nroff -man ezmlm-split.1 > ezmlm-split.0

ezmlm-split: \
load ezmlm-split.o libezmlm.a
	./load ezmlm-split -lezmlm 

ezmlm-split.o: \
compile ezmlm-split.c error.h stralloc.h gen_alloc.h str.h env.h sig.h getconf.h open.h scan.h strerr.h hasattribute.h byte.h getln.h case.h qmail.h substdio.h stralloc.h gen_alloc.h sgetopt.h subgetopt.h subfd.h substdio.h readwrite.h quote.h now.h datetime.h uint32.h subhash.h fmt.h errtxt.h die.h hasattribute.h config.h stralloc.h gen_alloc.h idx.h auto_version.h
	./compile ezmlm-split.c

ezmlm-store.0: \
ezmlm-store.1
	nroff -man ezmlm-store.1 > ezmlm-store.0

ezmlm-store: \
load ezmlm-store.o libezmlm.a sql.lib
	./load ezmlm-store -lezmlm  `cat sql.lib`

ezmlm-store.o: \
compile ezmlm-store.c stralloc.h gen_alloc.h subfd.h substdio.h strerr.h hasattribute.h error.h qmail.h substdio.h stralloc.h gen_alloc.h env.h lock.h sig.h open.h getln.h str.h fmt.h readwrite.h wait.h exit.h substdio.h getconf.h datetime.h now.h datetime.h cookie.h sgetopt.h subgetopt.h errtxt.h byte.h case.h quote.h hdr.h die.h hasattribute.h idx.h copy.h subscribe.h stralloc.h gen_alloc.h mime.h stralloc.h gen_alloc.h wrap.h config.h stralloc.h gen_alloc.h auto_version.h
	./compile ezmlm-store.c

ezmlm-sub.0: \
ezmlm-sub.1
	nroff -man ezmlm-sub.1 > ezmlm-sub.0

ezmlm-sub: \
load ezmlm-sub.o ezmlm-subunsub.o libezmlm.a sql.lib
	./load ezmlm-sub ezmlm-subunsub.o -lezmlm  `cat sql.lib`

ezmlm-sub.o: \
compile ezmlm-sub.c
	./compile ezmlm-sub.c

ezmlm-subunsub.o: \
compile ezmlm-subunsub.c strerr.h hasattribute.h subscribe.h stralloc.h gen_alloc.h sgetopt.h subgetopt.h str.h stralloc.h gen_alloc.h substdio.h subfd.h substdio.h readwrite.h getln.h scan.h errtxt.h die.h hasattribute.h idx.h config.h stralloc.h gen_alloc.h auto_version.h
	./compile ezmlm-subunsub.c

ezmlm-test.0: \
ezmlm-test.1
	nroff -man ezmlm-test.1 > ezmlm-test.0

ezmlm-test: \
warn-auto.sh conf-qmail VERSION Makefile tests/00-config tests/01-misc tests/02-functions tests/100-ezmlm-make tests/110-ezmlm-reject tests/115-ezmlm-sub tests/120-ezmlm-send tests/125-ezmlm-tstdig tests/130-ezmlm-weed tests/135-ezmlm-make tests/140-ezmlm-clean tests/145-ezmlm-store tests/150-ezmlm-return tests/155-ezmlm-warn tests/160-ezmlm-manage tests/165-ezmlm-request tests/170-ezmlm-split tests/210-ezmlm-idx tests/221-ezmlm-get-index tests/222-ezmlm-get-get tests/223-ezmlm-get-thread tests/225-ezmlm-get-digest tests/260-ezmlm-manage tests/270-ezmlm-moderate tests/280-ezmlm-warn tests/300-ezmlm-dispatch tests/500-export tests/505-flags tests/510-ezmlm-manage-subprobe tests/510-ezmlm-manage-unsubprobe tests/511-ezmlm-manage-subscribe tests/511-ezmlm-manage-unsubscribe tests/512-ezmlm-manage-copylines tests/550-ezmlm-send tests/90-cleanup tests/99-bugs
	(cat warn-auto.sh; \
	echo VER=\"`head -n 1 VERSION`\"; \
	cat tests/*-* ) >ezmlm-test;
	chmod 755 ezmlm-test

ezmlm-tstdig.0: \
ezmlm-tstdig.1
	nroff -man ezmlm-tstdig.1 > ezmlm-tstdig.0

ezmlm-tstdig: \
load ezmlm-tstdig.o libezmlm.a
	./load ezmlm-tstdig -lezmlm 

ezmlm-tstdig.o: \
compile ezmlm-tstdig.c stralloc.h gen_alloc.h substdio.h readwrite.h strerr.h hasattribute.h sig.h getconf.h env.h fmt.h now.h datetime.h lock.h sgetopt.h subgetopt.h errtxt.h scan.h case.h str.h open.h die.h hasattribute.h idx.h config.h stralloc.h gen_alloc.h auto_version.h
	./compile ezmlm-tstdig.c

ezmlm-unsub.0: \
ezmlm-unsub.1
	nroff -man ezmlm-unsub.1 > ezmlm-unsub.0

ezmlm-unsub: \
load ezmlm-unsub.o ezmlm-subunsub.o libezmlm.a sql.lib
	./load ezmlm-unsub ezmlm-subunsub.o -lezmlm  `cat sql.lib`

ezmlm-unsub.o: \
compile ezmlm-unsub.c
	./compile ezmlm-unsub.c

ezmlm-warn.0: \
ezmlm-warn.1
	nroff -man ezmlm-warn.1 > ezmlm-warn.0

ezmlm-warn: \
load ezmlm-warn.o libezmlm.a sql.lib
	./load ezmlm-warn -lezmlm  `cat sql.lib`

ezmlm-warn.o: \
compile ezmlm-warn.c direntry.h readwrite.h getln.h substdio.h stralloc.h gen_alloc.h slurp.h sgetopt.h subgetopt.h getconf.h byte.h error.h str.h strerr.h hasattribute.h sig.h now.h datetime.h fmt.h cookie.h qmail.h substdio.h stralloc.h gen_alloc.h errtxt.h quote.h open.h scan.h lock.h copy.h mime.h stralloc.h gen_alloc.h auto_version.h hdr.h die.h hasattribute.h idx.h config.h stralloc.h gen_alloc.h subscribe.h stralloc.h gen_alloc.h
	./compile ezmlm-warn.c

ezmlm-weed.0: \
ezmlm-weed.1
	nroff -man ezmlm-weed.1 > ezmlm-weed.0

ezmlm-weed: \
load ezmlm-weed.o libezmlm.a
	./load ezmlm-weed -lezmlm 

ezmlm-weed.o: \
compile ezmlm-weed.c stralloc.h gen_alloc.h str.h byte.h case.h readwrite.h substdio.h subfd.h substdio.h getln.h strerr.h hasattribute.h errtxt.h die.h hasattribute.h
	./compile ezmlm-weed.c

ezmlm.0: \
ezmlm.5
	nroff -man ezmlm.5 > ezmlm.0

ezmlmglrc.0: \
ezmlmglrc.5
	nroff -man ezmlmglrc.5 > ezmlmglrc.0

ezmlmrc.0: \
ezmlmrc.5
	nroff -man ezmlmrc.5 > ezmlmrc.0

ezmlmrc.all: \
lang/ch_GB/ezmlmrc lang/cs/ezmlmrc lang/da/ezmlmrc lang/de/ezmlmrc lang/en_US/ezmlmrc lang/es/ezmlmrc lang/fr/ezmlmrc lang/hu/ezmlmrc lang/id/ezmlmrc lang/it/ezmlmrc lang/ja/ezmlmrc lang/nl/ezmlmrc lang/pl/ezmlmrc lang/pt/ezmlmrc lang/pt_BR/ezmlmrc lang/ru/ezmlmrc lang/sv/ezmlmrc

ezmlmsubrc.0: \
ezmlmsubrc.5
	nroff -man ezmlmsubrc.5 > ezmlmsubrc.0

fd_copy.0: \
fd_copy.3
	nroff -man fd_copy.3 > fd_copy.0

fd_copy.o: \
compile fd_copy.c fd.h
	./compile fd_copy.c

fd_move.0: \
fd_move.3
	nroff -man fd_move.3 > fd_move.0

fd_move.o: \
compile fd_move.c fd.h
	./compile fd_move.c

find-systype: \
find-systype.sh auto-ccld.sh
	cat auto-ccld.sh find-systype.sh > find-systype
	chmod 755 find-systype

fmt_str.o: \
compile fmt_str.c fmt.h
	./compile fmt_str.c

fmt_uint.o: \
compile fmt_uint.c fmt.h
	./compile fmt_uint.c

fmt_uint0.o: \
compile fmt_uint0.c fmt.h
	./compile fmt_uint0.c

fmt_ulong.o: \
compile fmt_ulong.c fmt.h
	./compile fmt_ulong.c

fork.h: \
compile load tryvfork.c fork.h1 fork.h2
	( ( ./compile tryvfork.c && ./load tryvfork ) >/dev/null 2>&1 \
	&& cat fork.h2 || cat fork.h1 ) > fork.h
	rm -f tryvfork.o tryvfork

fs.a: \
makelib fmt_str.o fmt_uint.o fmt_uint0.o fmt_ulong.o scan_ulong.o scan_8long.o
	./makelib fs.a fmt_str.o fmt_uint.o fmt_uint0.o fmt_ulong.o scan_ulong.o scan_8long.o

getconf.o: \
compile getconf.c stralloc.h gen_alloc.h byte.h slurp.h strerr.h hasattribute.h getconf.h altpath.h die.h hasattribute.h config.h stralloc.h gen_alloc.h copy.h idx.h errtxt.h
	./compile getconf.c

getconf_ulong.o: \
compile getconf_ulong.c stralloc.h gen_alloc.h getconf.h die.h hasattribute.h scan.h
	./compile getconf_ulong.c

getln.0: \
getln.3
	nroff -man getln.3 > getln.0

getln.a: \
makelib getln.o getln2.o
	./makelib getln.a getln.o getln2.o

getln.o: \
compile getln.c substdio.h byte.h stralloc.h gen_alloc.h getln.h
	./compile getln.c

getln2.0: \
getln2.3
	nroff -man getln2.3 > getln2.0

getln2.o: \
compile getln2.c substdio.h stralloc.h gen_alloc.h byte.h getln.h
	./compile getln2.c

getopt.0: \
getopt.3
	nroff -man getopt.3 > getopt.0

hasattribute.h: \
choose compile hasattribute.h1 hasattribute.h2 tryattribute.c
	./choose c tryattribute hasattribute.h1 hasattribute.h2 > hasattribute.h

hasflock.h: \
tryflock.c compile load
	( ( ./compile tryflock.c && ./load tryflock ) >/dev/null 2>&1 \
	&& echo \#define HASFLOCK 1 || exit 0 ) > hasflock.h
	rm -f tryflock.o tryflock

hassgact.h: \
trysgact.c compile load
	( ( ./compile trysgact.c && ./load trysgact ) >/dev/null 2>&1 \
	&& echo \#define HASSIGACTION 1 || exit 0 ) > hassgact.h
	rm -f trysgact.o trysgact

haswaitp.h: \
choose compile haswaitp.h1 haswaitp.h2 load trywaitp.c
	./choose cl trywaitp haswaitp.h1 haswaitp.h2 > haswaitp.h

hdr_add.o: \
compile hdr_add.c hdr.h qmail.h substdio.h stralloc.h gen_alloc.h
	./compile hdr_add.c

hdr_boundary.o: \
compile hdr_boundary.c hdr.h qmail.h substdio.h stralloc.h gen_alloc.h makehash.h
	./compile hdr_boundary.c

hdr_ctboundary.o: \
compile hdr_ctboundary.c hdr.h qmail.h substdio.h stralloc.h gen_alloc.h
	./compile hdr_ctboundary.c

hdr_datemsgid.o: \
compile hdr_datemsgid.c hdr.h qmail.h substdio.h stralloc.h gen_alloc.h stralloc.h gen_alloc.h datetime.h fmt.h date822fmt.h makehash.h die.h hasattribute.h idx.h
	./compile hdr_datemsgid.c

hdr_from.o: \
compile hdr_from.c hdr.h qmail.h substdio.h stralloc.h gen_alloc.h stralloc.h gen_alloc.h quote.h die.h hasattribute.h idx.h
	./compile hdr_from.c

hdr_listsubject.o: \
compile hdr_listsubject.c hdr.h qmail.h substdio.h stralloc.h gen_alloc.h stralloc.h gen_alloc.h quote.h die.h hasattribute.h
	./compile hdr_listsubject.c

hdr_mime.o: \
compile hdr_mime.c hdr.h qmail.h substdio.h stralloc.h gen_alloc.h makehash.h stralloc.h gen_alloc.h str.h
	./compile hdr_mime.c

hdr_transferenc.o: \
compile hdr_transferenc.c hdr.h qmail.h substdio.h stralloc.h gen_alloc.h
	./compile hdr_transferenc.c

idxthread.o: \
compile idxthread.c error.h alloc.h str.h stralloc.h gen_alloc.h strerr.h hasattribute.h lock.h open.h getln.h scan.h byte.h die.h hasattribute.h idx.h errtxt.h substdio.h fmt.h readwrite.h makehash.h yyyymm.h stralloc.h gen_alloc.h
	./compile idxthread.c

install: \
load install.o getln.a strerr.a substdio.a stralloc.a alloc.a open.a error.a str.a fs.a
	./load install getln.a strerr.a substdio.a stralloc.a alloc.a open.a error.a str.a fs.a 

install.o: \
compile install.c substdio.h stralloc.h gen_alloc.h getln.h readwrite.h exit.h open.h error.h strerr.h hasattribute.h byte.h scan.h
	./compile install.c

issub.c: \
conf-sub
	rm -f issub.c issub.o
	sub=`head -n 1 conf-sub` ; ln sub_$$sub/issub.c issub.c
	touch issub.c

issub.o: \
compile issub.c subscribe.h stralloc.h gen_alloc.h
	./compile issub.c

it: \
symlinks ezmlm-accept ezmlm-archive ezmlm-check ezmlm-cgi ezmlm-clean ezmlm-confirm ezmlm-cron ezmlm-dispatch ezmlm-gate ezmlm-get ezmlm-glconf ezmlm-idx ezmlm-import ezmlm-issubn ezmlm-limit ezmlm-list ezmlm-make ezmlm-manage ezmlm-moderate ezmlm-reject ezmlm-request ezmlm-return ezmlm-send ezmlm-split ezmlm-store ezmlm-sub ezmlm-tstdig ezmlm-unsub ezmlm-warn ezmlm-weed ezmlm-test ezmlmrc.all

lang/ch_GB/ezmlmrc: \
makelang VERSION ezmlmrc.template lang/ch_GB/sed
	./makelang ch_GB

lang/cs/ezmlmrc: \
makelang VERSION ezmlmrc.template lang/cs/sed
	./makelang cs

lang/da/ezmlmrc: \
makelang VERSION ezmlmrc.template lang/da/sed
	./makelang da

lang/de/ezmlmrc: \
makelang VERSION ezmlmrc.template lang/de/sed
	./makelang de

lang/en_US/ezmlmrc: \
makelang VERSION ezmlmrc.template lang/en_US/sed
	./makelang en_US

lang/es/ezmlmrc: \
makelang VERSION ezmlmrc.template lang/es/sed
	./makelang es

lang/fr/ezmlmrc: \
makelang VERSION ezmlmrc.template lang/fr/sed
	./makelang fr

lang/hu/ezmlmrc: \
makelang VERSION ezmlmrc.template lang/hu/sed
	./makelang hu

lang/id/ezmlmrc: \
makelang VERSION ezmlmrc.template lang/id/sed
	./makelang id

lang/it/ezmlmrc: \
makelang VERSION ezmlmrc.template lang/it/sed
	./makelang it

lang/ja/ezmlmrc: \
makelang VERSION ezmlmrc.template lang/ja/sed
	./makelang ja

lang/nl/ezmlmrc: \
makelang VERSION ezmlmrc.template lang/nl/sed
	./makelang nl

lang/pl/ezmlmrc: \
makelang VERSION ezmlmrc.template lang/pl/sed
	./makelang pl

lang/pt/ezmlmrc: \
makelang VERSION ezmlmrc.template lang/pt/sed
	./makelang pt

lang/pt_BR/ezmlmrc: \
makelang VERSION ezmlmrc.template lang/pt_BR/sed
	./makelang pt_BR

lang/ru/ezmlmrc: \
makelang VERSION ezmlmrc.template lang/ru/sed
	./makelang ru

lang/sv/ezmlmrc: \
makelang VERSION ezmlmrc.template lang/sv/sed
	./makelang sv

libezmlm.a: \
makelib alloc.o alloc_re.o altpath.o author.o auto_bin.o auto_cron.o auto_etc.o auto_qmail.o auto_version.o byte_chr.o byte_copy.o byte_cr.o byte_diff.o byte_rchr.o byte_zero.o case_diffb.o case_diffs.o case_lowerb.o case_startb.o case_starts.o checktag.o concatHDR.o config.o constmap.o cookie.o copy.o date2yyyymm.o date822fmt.o dateline.o datetime.o decodeB.o decodeHDR.o decodeQ.o die_badaddr.o die_badformat.o die_dow.o die_nomem.o die_sender.o die_usage.o encodeB.o encodeQ.o env.o envread.o error.o error_str.o fd_copy.o fd_move.o fmt_str.o fmt_uint.o fmt_uint0.o fmt_ulong.o getconf.o getconf_ulong.o getln.o getln2.o hdr_add.o hdr_boundary.o hdr_ctboundary.o hdr_datemsgid.o hdr_from.o hdr_listsubject.o hdr_mime.o hdr_transferenc.o idxthread.o issub.o lock_ex.o lock_exnb.o lockfile.o log.o logmsg.o makehash.o now.o open_append.o open_read.o open_trunc.o opensub.o putsubs.o qmail.o qmail_copy.o quote.o scan_8long.o scan_ulong.o searchlog.o seek_set.o sgetopt.o sig_catch.o sig_pipe.o slurp.o slurpclose.o sqllib.o std_checktag.o std_issub.o std_makepath.o std_putsubs.o std_searchlog.o std_subscribe.o std_tagmsg.o str_chr.o str_cpy.o str_diff.o str_diffn.o str_len.o str_rchr.o str_start.o stralloc_arts.o stralloc_cat.o stralloc_catb.o stralloc_cats.o stralloc_copy.o stralloc_eady.o stralloc_num.o stralloc_opyb.o stralloc_opys.o stralloc_pend.o strerr.o strerr_die.o strerr_sys.o subfderr.o subfdin.o subfdout.o subgetopt.o subhash.o subscribe.o substdi.o substdio.o substdio_copy.o substdo.o surf.o surfpcs.o tagmsg.o unfoldHDR.o wait_pid.o wrap_chdir.o wrap_execbin.o wrap_execsh.o wrap_execv.o wrap_exitcode.o wrap_fork.o wrap_stat.o wrap_waitpid.o
	./makelib libezmlm.a alloc.o alloc_re.o altpath.o author.o auto_bin.o auto_cron.o auto_etc.o auto_qmail.o auto_version.o byte_chr.o byte_copy.o byte_cr.o byte_diff.o byte_rchr.o byte_zero.o case_diffb.o case_diffs.o case_lowerb.o case_startb.o case_starts.o checktag.o concatHDR.o config.o constmap.o cookie.o copy.o date2yyyymm.o date822fmt.o dateline.o datetime.o decodeB.o decodeHDR.o decodeQ.o die_badaddr.o die_badformat.o die_dow.o die_nomem.o die_sender.o die_usage.o encodeB.o encodeQ.o env.o envread.o error.o error_str.o fd_copy.o fd_move.o fmt_str.o fmt_uint.o fmt_uint0.o fmt_ulong.o getconf.o getconf_ulong.o getln.o getln2.o hdr_add.o hdr_boundary.o hdr_ctboundary.o hdr_datemsgid.o hdr_from.o hdr_listsubject.o hdr_mime.o hdr_transferenc.o idxthread.o issub.o lock_ex.o lock_exnb.o lockfile.o log.o logmsg.o makehash.o now.o open_append.o open_read.o open_trunc.o opensub.o putsubs.o qmail.o qmail_copy.o quote.o scan_8long.o scan_ulong.o searchlog.o seek_set.o sgetopt.o sig_catch.o sig_pipe.o slurp.o slurpclose.o sqllib.o std_checktag.o std_issub.o std_makepath.o std_putsubs.o std_searchlog.o std_subscribe.o std_tagmsg.o str_chr.o str_cpy.o str_diff.o str_diffn.o str_len.o str_rchr.o str_start.o stralloc_arts.o stralloc_cat.o stralloc_catb.o stralloc_cats.o stralloc_copy.o stralloc_eady.o stralloc_num.o stralloc_opyb.o stralloc_opys.o stralloc_pend.o strerr.o strerr_die.o strerr_sys.o subfderr.o subfdin.o subfdout.o subgetopt.o subhash.o subscribe.o substdi.o substdio.o substdio_copy.o substdo.o surf.o surfpcs.o tagmsg.o unfoldHDR.o wait_pid.o wrap_chdir.o wrap_execbin.o wrap_execsh.o wrap_execv.o wrap_exitcode.o wrap_fork.o wrap_stat.o wrap_waitpid.o

load: \
make-load warn-auto.sh systype
	( cat warn-auto.sh; ./make-load "`cat systype`" ) > load
	chmod 755 load

lock_ex.o: \
compile lock_ex.c hasflock.h lock.h
	./compile lock_ex.c

lock_exnb.o: \
compile lock_exnb.c hasflock.h lock.h
	./compile lock_exnb.c

lockfile.o: \
compile lockfile.c lock.h errtxt.h strerr.h hasattribute.h die.h hasattribute.h idx.h open.h
	./compile lockfile.c

log.o: \
compile log.c substdio.h readwrite.h stralloc.h gen_alloc.h log.h now.h datetime.h fmt.h open.h subscribe.h stralloc.h gen_alloc.h
	./compile log.c

logmsg.c: \
conf-sub
	rm -f logmsg.c logmsg.o
	sub=`head -n 1 conf-sub` ; ln sub_$$sub/logmsg.c logmsg.c
	touch logmsg.c

logmsg.o: \
compile logmsg.c stralloc.h gen_alloc.h fmt.h subscribe.h stralloc.h gen_alloc.h errtxt.h
	./compile logmsg.c

make-compile: \
make-compile.sh auto-ccld.sh
	cat auto-ccld.sh make-compile.sh > make-compile
	chmod 755 make-compile

make-load: \
make-load.sh auto-ccld.sh
	cat auto-ccld.sh make-load.sh > make-load
	chmod 755 make-load

make-makelib: \
make-makelib.sh auto-ccld.sh
	cat auto-ccld.sh make-makelib.sh > make-makelib
	chmod 755 make-makelib

makehash.o: \
compile makehash.c stralloc.h gen_alloc.h byte.h surf.h uint32.h makehash.h die.h hasattribute.h idx.h
	./compile makehash.c

makelang: \
warn-auto.sh makelang.sh
	cat warn-auto.sh makelang.sh > makelang
	chmod 755 makelang

makelib: \
make-makelib warn-auto.sh systype
	( cat warn-auto.sh; ./make-makelib "`cat systype`" ) > makelib
	chmod 755 makelib

man: \
ezmlm.0 ezmlm-accept.0 ezmlm-archive.0 ezmlm-cgi.0 ezmlm-check.0 ezmlm-clean.0 ezmlm-confirm.0 ezmlm-cron.0 ezmlm-dispatch.0 ezmlm-gate.0 ezmlm-get.0 ezmlm-glconf.0 ezmlm-idx.0 ezmlm-import.0 ezmlm-issubn.0 ezmlm-limit.0 ezmlm-list.0 ezmlm-make.0 ezmlm-manage.0 ezmlm-mktab.0 ezmlm-moderate.0 ezmlm-receipt.0 ezmlm-reject.0 ezmlm-request.0 ezmlm-return.0 ezmlm-send.0 ezmlm-split.0 ezmlm-store.0 ezmlm-sub.0 ezmlm-test.0 ezmlm-tstdig.0 ezmlm-unsub.0 ezmlm-warn.0 ezmlm-weed.0 alloc.0 case.0 datetime.0 direntry.0 env.0 error.0 error_str.0 error_temp.0 ezmlm.0 ezmlmglrc.0 ezmlmsubrc.0 ezmlmrc.0 fd_copy.0 fd_move.0 getln.0 getln2.0 getopt.0 now.0 sgetopt.0 stralloc.0 subfd.0 subgetopt.0 substdio.0 substdio_copy.0 substdio_in.0 substdio_out.0 surf.0 surfpcs.0 wait.0

now.0: \
now.3
	nroff -man now.3 > now.0

now.o: \
compile now.c datetime.h now.h datetime.h
	./compile now.c

open.a: \
makelib open_append.o open_read.o open_trunc.o
	./makelib open.a open_append.o open_read.o open_trunc.o

open_append.o: \
compile open_append.c open.h
	./compile open_append.c

open_read.o: \
compile open_read.c open.h
	./compile open_read.c

open_trunc.o: \
compile open_trunc.c open.h
	./compile open_trunc.c

opensub.c: \
conf-sub
	rm -f opensub.c opensub.o
	sub=`head -n 1 conf-sub` ; ln sub_$$sub/opensub.c opensub.c
	touch opensub.c

opensub.o: \
compile opensub.c stralloc.h gen_alloc.h strerr.h hasattribute.h errtxt.h subscribe.h stralloc.h gen_alloc.h
	./compile opensub.c

putsubs.c: \
conf-sub
	rm -f putsubs.c putsubs.o
	sub=`head -n 1 conf-sub` ; ln sub_$$sub/putsubs.c putsubs.c
	touch putsubs.c

putsubs.o: \
compile putsubs.c subscribe.h stralloc.h gen_alloc.h
	./compile putsubs.c

qmail.o: \
compile qmail.c substdio.h readwrite.h wait.h env.h str.h exit.h fork.h fd.h qmail.h substdio.h stralloc.h gen_alloc.h auto_qmail.h alloc.h stralloc.h gen_alloc.h idx.h
	./compile qmail.c

qmail_copy.o: \
compile qmail_copy.c qmail.h substdio.h stralloc.h gen_alloc.h substdio.h
	./compile qmail_copy.c

quote.o: \
compile quote.c stralloc.h gen_alloc.h str.h quote.h
	./compile quote.c

scan_8long.o: \
compile scan_8long.c scan.h
	./compile scan_8long.c

scan_ulong.o: \
compile scan_ulong.c scan.h
	./compile scan_ulong.c

searchlog.c: \
conf-sub
	rm -f searchlog.c searchlog.o
	sub=`head -n 1 conf-sub` ; ln sub_$$sub/searchlog.c searchlog.c
	touch searchlog.c

searchlog.o: \
compile searchlog.c subscribe.h stralloc.h gen_alloc.h
	./compile searchlog.c

seek_set.o: \
compile seek_set.c seek.h
	./compile seek_set.c

setup: \
it man install conf-bin conf-etc conf-lang conf-man BIN ETC MAN
	./install "`head -n 1 conf-bin`" < BIN
	./install "`head -n 1 conf-etc`" < ETC
	./install "`head -n 1 conf-man`" < MAN
	rm -f "`head -n 1 conf-etc`"/default
	ln -sf "`head -n 1 conf-lang`" "`head -n 1 conf-etc`"/default

sgetopt.0: \
sgetopt.3
	nroff -man sgetopt.3 > sgetopt.0

sgetopt.o: \
compile sgetopt.c substdio.h subfd.h substdio.h sgetopt.h subgetopt.h
	./compile sgetopt.c

sig_catch.o: \
compile sig_catch.c sig.h hassgact.h
	./compile sig_catch.c

sig_pipe.o: \
compile sig_pipe.c sig.h
	./compile sig_pipe.c

slurp.o: \
compile slurp.c stralloc.h gen_alloc.h slurp.h slurpclose.h error.h open.h
	./compile slurp.c

slurpclose.o: \
compile slurpclose.c stralloc.h gen_alloc.h readwrite.h slurpclose.h error.h
	./compile slurpclose.c

sql.lib: \
conf-sub
	sub=`head -n 1 conf-sub` ; head -n 1 sub_$$sub/conf-sqlld > sql.tmp
	mv sql.tmp sql.lib

sqllib.o: \
compile sqllib.c str.h slurp.h scan.h stralloc.h gen_alloc.h strerr.h hasattribute.h errtxt.h subscribe.h stralloc.h gen_alloc.h
	./compile sqllib.c

std_checktag.o: \
compile std_checktag.c stralloc.h gen_alloc.h scan.h fmt.h cookie.h makehash.h strerr.h hasattribute.h slurp.h byte.h errtxt.h subscribe.h stralloc.h gen_alloc.h config.h stralloc.h gen_alloc.h
	./compile std_checktag.c

std_issub.o: \
compile std_issub.c stralloc.h gen_alloc.h getln.h readwrite.h substdio.h open.h byte.h case.h strerr.h hasattribute.h error.h uint32.h subhash.h fmt.h subscribe.h stralloc.h gen_alloc.h errtxt.h die.h hasattribute.h idx.h
	./compile std_issub.c

std_makepath.o: \
compile std_makepath.c die.h hasattribute.h stralloc.h gen_alloc.h subscribe.h stralloc.h gen_alloc.h
	./compile std_makepath.c

std_putsubs.o: \
compile std_putsubs.c getln.h error.h strerr.h hasattribute.h readwrite.h str.h fmt.h stralloc.h gen_alloc.h open.h substdio.h case.h errtxt.h subscribe.h stralloc.h gen_alloc.h qmail.h substdio.h stralloc.h gen_alloc.h die.h hasattribute.h
	./compile std_putsubs.c

std_searchlog.o: \
compile std_searchlog.c getln.h case.h scan.h stralloc.h gen_alloc.h str.h open.h datetime.h date822fmt.h substdio.h readwrite.h strerr.h hasattribute.h error.h errtxt.h subscribe.h stralloc.h gen_alloc.h die.h hasattribute.h
	./compile std_searchlog.c

std_subscribe.o: \
compile std_subscribe.c str.h stralloc.h gen_alloc.h getln.h readwrite.h substdio.h strerr.h hasattribute.h open.h byte.h case.h lock.h error.h subscribe.h stralloc.h gen_alloc.h uint32.h subhash.h fmt.h errtxt.h log.h die.h hasattribute.h
	./compile std_subscribe.c

std_tagmsg.o: \
compile std_tagmsg.c stralloc.h gen_alloc.h scan.h fmt.h strerr.h hasattribute.h cookie.h slurp.h errtxt.h subscribe.h stralloc.h gen_alloc.h makehash.h die.h hasattribute.h idx.h config.h stralloc.h gen_alloc.h
	./compile std_tagmsg.c

str.a: \
makelib str_len.o str_diff.o str_diffn.o str_cpy.o str_chr.o str_rchr.o str_start.o byte_chr.o byte_rchr.o byte_diff.o byte_copy.o byte_cr.o byte_zero.o
	./makelib str.a str_len.o str_diff.o str_diffn.o str_cpy.o str_chr.o str_rchr.o str_start.o byte_chr.o byte_rchr.o byte_diff.o byte_copy.o byte_cr.o byte_zero.o

str_chr.o: \
compile str_chr.c str.h
	./compile str_chr.c

str_cpy.o: \
compile str_cpy.c str.h
	./compile str_cpy.c

str_diff.o: \
compile str_diff.c str.h
	./compile str_diff.c

str_diffn.o: \
compile str_diffn.c str.h
	./compile str_diffn.c

str_len.o: \
compile str_len.c str.h
	./compile str_len.c

str_rchr.o: \
compile str_rchr.c str.h
	./compile str_rchr.c

str_start.o: \
compile str_start.c str.h
	./compile str_start.c

stralloc.0: \
stralloc.3
	nroff -man stralloc.3 > stralloc.0

stralloc.a: \
makelib stralloc_eady.o stralloc_pend.o stralloc_copy.o stralloc_opys.o stralloc_opyb.o stralloc_cat.o stralloc_cats.o stralloc_catb.o stralloc_arts.o stralloc_num.o
	./makelib stralloc.a stralloc_eady.o stralloc_pend.o stralloc_copy.o stralloc_opys.o stralloc_opyb.o stralloc_cat.o stralloc_cats.o stralloc_catb.o stralloc_arts.o stralloc_num.o

stralloc_arts.o: \
compile stralloc_arts.c byte.h str.h stralloc.h gen_alloc.h
	./compile stralloc_arts.c

stralloc_cat.o: \
compile stralloc_cat.c byte.h stralloc.h gen_alloc.h
	./compile stralloc_cat.c

stralloc_catb.o: \
compile stralloc_catb.c stralloc.h gen_alloc.h byte.h
	./compile stralloc_catb.c

stralloc_cats.o: \
compile stralloc_cats.c byte.h str.h stralloc.h gen_alloc.h
	./compile stralloc_cats.c

stralloc_copy.o: \
compile stralloc_copy.c byte.h stralloc.h gen_alloc.h
	./compile stralloc_copy.c

stralloc_eady.o: \
compile stralloc_eady.c alloc.h stralloc.h gen_alloc.h gen_allocdefs.h
	./compile stralloc_eady.c

stralloc_num.o: \
compile stralloc_num.c stralloc.h gen_alloc.h
	./compile stralloc_num.c

stralloc_opyb.o: \
compile stralloc_opyb.c stralloc.h gen_alloc.h byte.h
	./compile stralloc_opyb.c

stralloc_opys.o: \
compile stralloc_opys.c byte.h str.h stralloc.h gen_alloc.h
	./compile stralloc_opys.c

stralloc_pend.o: \
compile stralloc_pend.c alloc.h stralloc.h gen_alloc.h gen_allocdefs.h
	./compile stralloc_pend.c

strerr.a: \
makelib strerr.o strerr_sys.o strerr_die.o
	./makelib strerr.a strerr.o strerr_sys.o strerr_die.o

strerr.o: \
compile strerr.c stralloc.h gen_alloc.h strerr.h hasattribute.h
	./compile strerr.c

strerr_die.o: \
compile strerr_die.c substdio.h subfd.h substdio.h exit.h strerr.h hasattribute.h
	./compile strerr_die.c

strerr_sys.o: \
compile strerr_sys.c error.h strerr.h hasattribute.h
	./compile strerr_sys.c

subfd.0: \
subfd.3
	nroff -man subfd.3 > subfd.0

subfderr.o: \
compile subfderr.c readwrite.h substdio.h subfd.h substdio.h
	./compile subfderr.c

subfdin.o: \
compile subfdin.c readwrite.h substdio.h subfd.h substdio.h
	./compile subfdin.c

subfdout.o: \
compile subfdout.c readwrite.h substdio.h subfd.h substdio.h
	./compile subfdout.c

subgetopt.0: \
subgetopt.3
	nroff -man subgetopt.3 > subgetopt.0

subgetopt.o: \
compile subgetopt.c subgetopt.h
	./compile subgetopt.c

subhash.o: \
compile subhash.c subhash.h str.h
	./compile subhash.c

subscribe.c: \
conf-sub
	rm -f subscribe.c subscribe.o
	sub=`head -n 1 conf-sub` ; ln sub_$$sub/subscribe.c subscribe.c
	touch subscribe.c

subscribe.o: \
compile subscribe.c subscribe.h stralloc.h gen_alloc.h
	./compile subscribe.c

substdi.o: \
compile substdi.c substdio.h byte.h error.h
	./compile substdi.c

substdio.0: \
substdio.3
	nroff -man substdio.3 > substdio.0

substdio.a: \
makelib substdio.o substdi.o substdo.o subfderr.o subfdin.o subfdout.o substdio_copy.o
	./makelib substdio.a substdio.o substdi.o substdo.o subfderr.o subfdin.o subfdout.o substdio_copy.o

substdio.o: \
compile substdio.c substdio.h
	./compile substdio.c

substdio_copy.0: \
substdio_copy.3
	nroff -man substdio_copy.3 > substdio_copy.0

substdio_copy.o: \
compile substdio_copy.c substdio.h
	./compile substdio_copy.c

substdio_in.0: \
substdio_in.3
	nroff -man substdio_in.3 > substdio_in.0

substdio_out.0: \
substdio_out.3
	nroff -man substdio_out.3 > substdio_out.0

substdo.o: \
compile substdo.c substdio.h str.h byte.h error.h
	./compile substdo.c

surf.0: \
surf.3
	nroff -man surf.3 > surf.0

surf.o: \
compile surf.c surf.h uint32.h
	./compile surf.c

surfpcs.0: \
surfpcs.3
	nroff -man surfpcs.3 > surfpcs.0

surfpcs.o: \
compile surfpcs.c surf.h uint32.h surfpcs.h uint32.h
	./compile surfpcs.c

symlinks: \
ezmlm-mktab checktag.c issub.c logmsg.c opensub.c putsubs.c searchlog.c subscribe.c tagmsg.c

systype: \
find-systype trycpp.c
	./find-systype > systype

tagmsg.c: \
conf-sub
	rm -f tagmsg.c tagmsg.o
	sub=`head -n 1 conf-sub` ; ln sub_$$sub/tagmsg.c tagmsg.c
	touch tagmsg.c

tagmsg.o: \
compile tagmsg.c subscribe.h stralloc.h gen_alloc.h
	./compile tagmsg.c

targets: \
it man setup conf-bin conf-man

uint32.h: \
tryulong32.c compile load uint32.h1 uint32.h2
	( ( ./compile tryulong32.c && ./load tryulong32 && ./tryulong32 ) >/dev/null 2>&1 \
	&& cat uint32.h2 || cat uint32.h1 ) > uint32.h
	rm -f tryulong32.o tryulong32

unfoldHDR.o: \
compile unfoldHDR.c stralloc.h gen_alloc.h strerr.h hasattribute.h case.h byte.h errtxt.h mime.h stralloc.h gen_alloc.h die.h hasattribute.h idx.h
	./compile unfoldHDR.c

wait.0: \
wait.3
	nroff -man wait.3 > wait.0

wait_pid.o: \
compile wait_pid.c error.h haswaitp.h
	./compile wait_pid.c

wrap_chdir.o: \
compile wrap_chdir.c errtxt.h strerr.h hasattribute.h wrap.h die.h hasattribute.h
	./compile wrap_chdir.c

wrap_execbin.o: \
compile wrap_execbin.c auto_bin.h stralloc.h gen_alloc.h wrap.h die.h hasattribute.h idx.h
	./compile wrap_execbin.c

wrap_execsh.o: \
compile wrap_execsh.c wrap.h
	./compile wrap_execsh.c

wrap_execv.o: \
compile wrap_execv.c error.h errtxt.h strerr.h hasattribute.h wrap.h die.h hasattribute.h idx.h
	./compile wrap_execv.c

wrap_exitcode.o: \
compile wrap_exitcode.c errtxt.h strerr.h hasattribute.h wrap.h die.h hasattribute.h idx.h
	./compile wrap_exitcode.c

wrap_fork.o: \
compile wrap_fork.c fork.h errtxt.h strerr.h hasattribute.h wrap.h die.h hasattribute.h idx.h
	./compile wrap_fork.c

wrap_stat.o: \
compile wrap_stat.c error.h errtxt.h strerr.h hasattribute.h wrap.h die.h hasattribute.h idx.h
	./compile wrap_stat.c

wrap_waitpid.o: \
compile wrap_waitpid.c wait.h errtxt.h strerr.h hasattribute.h wrap.h die.h hasattribute.h idx.h
	./compile wrap_waitpid.c
